[
    {
        "name": "Start",
        "patch": "SHOW TABLES LIKE 'test'",
        "date": "20060514",
        "ref": 0
    },
    {
        "name": "Create sql_patchmanger table",
        "patch": "CREATE TABLE si_sql_patchmanager (sql_id INT NOT NULL AUTO_INCREMENT PRIMARY KEY ,sql_patch_ref VARCHAR( 50 ) NOT NULL, sql_patch VARCHAR( 255 ) NOT NULL ,sql_release VARCHAR( 25 ) NOT NULL, sql_statement TEXT NOT NULL) ENGINE = MYISAM DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
        "date": "20060514",
        "ref": 1
    },
    {
        "name": "Update invoice no details to have a default currency sign",
        "patch": "UPDATE si_preferences SET pref_currency_sign = '$' WHERE pref_id =2 LIMIT 1",
        "date": "20060514",
        "ref": 2
    },
    {
        "name": "Add a row into the defaults table to handle the default number of line items",
        "patch": "ALTER TABLE si_defaults ADD def_number_line_items INT( 25 ) NOT NULL",
        "date": "20060514",
        "ref": 3
    },
    {
        "name": "Set the default number of line items to 5",
        "patch": "UPDATE si_defaults SET def_number_line_items = 5 WHERE def_id =1 LIMIT 1",
        "date": "20060514",
        "ref": 4
    },
    {
        "name": "Add logo and invoice footer support to biller",
        "patch": "ALTER TABLE si_biller ADD b_co_logo VARCHAR( 50 ), ADD b_co_footer TEXT",
        "date": "20060514",
        "ref": 5
    },
    {
        "name": "Add default invoice template option",
        "patch": "ALTER TABLE si_defaults ADD def_inv_template VARCHAR( 25 ) DEFAULT 'print_preview.php' NOT NULL",
        "date": "20060514",
        "ref": 6
    },
    {
        "name": "Edit tax description field length to 50",
        "patch": "ALTER TABLE si_tax CHANGE tax_description tax_description VARCHAR( 50 ) DEFAULT NULL",
        "date": "20060526",
        "ref": 7
    },
    {
        "name": "Edit default invoice template field length to 50",
        "patch": "ALTER TABLE si_defaults CHANGE def_inv_template def_inv_template VARCHAR( 50 ) DEFAULT NULL",
        "date": "20060526",
        "ref": 8
    },
    {
        "name": "Add consulting style invoice",
        "patch": "INSERT INTO si_invoice_type ( inv_ty_id , inv_ty_description ) VALUES (3, 'Consulting')",
        "date": "20060531",
        "ref": 9
    },
    {
        "name": "Add enabled to biller",
        "patch": "ALTER TABLE si_biller ADD b_enabled varchar(1) NOT NULL default '1'",
        "date": "20060815",
        "ref": 10
    },
    {
        "name": "Add enabled to customers",
        "patch": "ALTER TABLE si_customers ADD c_enabled varchar(1) NOT NULL default '1'",
        "date": "20060815",
        "ref": 11
    },
    {
        "name": "Add enabled to preferences",
        "patch": "ALTER TABLE si_preferences ADD pref_enabled varchar(1) NOT NULL default '1'",
        "date": "20060815",
        "ref": 12
    },
    {
        "name": "Add enabled to products",
        "patch": "ALTER TABLE si_products ADD prod_enabled varchar(1) NOT NULL default '1'",
        "date": "20060815",
        "ref": 13
    },
    {
        "name": "Add enabled to products",
        "patch": "ALTER TABLE si_tax ADD tax_enabled varchar(1) NOT NULL default '1'",
        "date": "20060815",
        "ref": 14
    },
    {
        "name": "Add tax_id into invoice_items table",
        "patch": "ALTER TABLE si_invoice_items ADD inv_it_tax_id VARCHAR( 25 ) NOT NULL default '0'  AFTER inv_it_unit_price",
        "date": "20060815",
        "ref": 15
    },
    {
        "name": "Add Payments table",
        "patch": "CREATE TABLE `si_account_payments` (\r\n`ac_id` INT( 10 ) NOT NULL AUTO_INCREMENT PRIMARY KEY ,\r\n`ac_inv_id` VARCHAR( 10 ) NOT NULL ,\r\n`ac_amount` DOUBLE( 25, 2 ) NOT NULL ,\r\n`ac_notes` TEXT NOT NULL ,\r\n`ac_date` DATETIME NOT NULL) ENGINE = MYISAM DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;\r\n",
        "date": "20060827",
        "ref": 16
    },
    {
        "name": "Adjust data type of quantity field",
        "patch": "ALTER TABLE `si_invoice_items` CHANGE `inv_it_quantity` `inv_it_quantity` FLOAT NOT NULL DEFAULT '0'",
        "date": "20060827",
        "ref": 17
    },
    {
        "name": "Create Payment Types table",
        "patch": "CREATE TABLE `si_payment_types` (`pt_id` INT( 10 ) NOT NULL AUTO_INCREMENT PRIMARY KEY ,`pt_description` VARCHAR( 250 ) NOT NULL ,`pt_enabled` VARCHAR( 1 ) NOT NULL DEFAULT '1') ENGINE = MYISAM DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
        "date": "20060909",
        "ref": 18
    },
    {
        "name": "Add info into the Payment Type table",
        "patch": "INSERT INTO `si_payment_types` ( `pt_id` , `pt_description` ) VALUES (NULL , 'Cash'), (NULL , 'Credit Card')",
        "date": "20060909",
        "ref": 19
    },
    {
        "name": "Adjust accounts payments table to add a type field",
        "patch": "ALTER TABLE `si_account_payments` ADD `ac_payment_type` INT( 10 ) NOT NULL DEFAULT '1'",
        "date": "20060909",
        "ref": 20
    },
    {
        "name": "Adjust the defautls table to add a payment type field",
        "patch": "ALTER TABLE `si_defaults` ADD `def_payment_type` VARCHAR( 25 ) DEFAULT '1'",
        "date": "20060909",
        "ref": 21
    },
    {
        "name": "Add note field to customer",
        "patch": "ALTER TABLE `si_customers` ADD `c_notes` TEXT NULL AFTER `c_email`",
        "date": "20061026",
        "ref": 22
    },
    {
        "name": "Add note field to Biller",
        "patch": "ALTER TABLE `si_biller` ADD `b_notes` TEXT NULL AFTER `b_co_footer`",
        "date": "20061026",
        "ref": 23
    },
    {
        "name": "Add note field to Products",
        "patch": "ALTER TABLE `si_products` ADD `prod_notes` TEXT NOT NULL AFTER `prod_unit_price`",
        "date": "20061026",
        "ref": 24
    },
    {
        "name": "Add street address 2 to customers",
        "patch": "ALTER TABLE `si_customers` ADD `c_street_address2` VARCHAR( 50 ) AFTER `c_street_address` ",
        "date": "20061211",
        "ref": 25
    },
    {
        "name": "Add custom fields to customers",
        "patch": "ALTER TABLE `si_customers` ADD `c_custom_field1` VARCHAR( 50 ) AFTER `c_notes` ,\r\nADD `c_custom_field2` VARCHAR( 50 ) AFTER `c_custom_field1` ,\r\nADD `c_custom_field3` VARCHAR( 50 ) AFTER `c_custom_field2` ,\r\nADD `c_custom_field4` VARCHAR( 50 ) AFTER `c_custom_field3` ;\r\n",
        "date": "20061211",
        "ref": 26
    },
    {
        "name": "Add mobile phone to customers",
        "patch": "ALTER TABLE `si_customers` ADD `c_mobile_phone` VARCHAR( 50 ) AFTER `c_phone`",
        "date": "20061211",
        "ref": 27
    },
    {
        "name": "Add street address 2 to billers",
        "patch": "ALTER TABLE `si_biller` ADD `b_street_address2` VARCHAR( 50 ) AFTER `b_street_address` ",
        "date": "20061211",
        "ref": 28
    },
    {
        "name": "Add custom fields to billers",
        "patch": "ALTER TABLE `si_biller` ADD `b_custom_field1` VARCHAR( 50 ) AFTER `b_notes` ,\r\nADD `b_custom_field2` VARCHAR( 50 ) AFTER `b_custom_field1` ,\r\nADD `b_custom_field3` VARCHAR( 50 ) AFTER `b_custom_field2` ,\r\nADD `b_custom_field4` VARCHAR( 50 ) AFTER `b_custom_field3` ;\r\n",
        "date": "20061211",
        "ref": 29
    },
    {
        "name": "Creating the custom fields table",
        "patch": "CREATE TABLE `si_custom_fields` (\r\n`cf_id` INT NOT NULL AUTO_INCREMENT ,\r\n`cf_custom_field` VARCHAR( 50 ) NOT NULL ,\r\n`cf_custom_label` VARCHAR( 50 ) ,\r\n`cf_display` VARCHAR( 1 ) DEFAULT '1' NOT NULL ,\r\nPRIMARY KEY ( `cf_id` )\t) ENGINE = MYISAM DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;\r\n",
        "date": "20061211",
        "ref": 30
    },
    {
        "name": "Adding data to the custom fields table",
        "patch": "INSERT INTO `si_custom_fields` ( `cf_id` , `cf_custom_field` , `cf_custom_label` , `cf_display` ) VALUES\r\n(NULL, 'biller_cf1', NULL , '0'),\r\n(NULL, 'biller_cf2', NULL , '0'),\r\n(NULL, 'biller_cf3', NULL , '0'),\r\n(NULL, 'biller_cf4', NULL , '0'),\r\n(NULL, 'customer_cf1', NULL , '0'),\r\n(NULL, 'customer_cf2', NULL , '0'),\r\n(NULL, 'customer_cf3', NULL , '0'),\r\n(NULL, 'customer_cf4', NULL , '0'),\r\n(NULL, 'product_cf1', NULL , '0'),\r\n(NULL, 'product_cf2', NULL , '0'),\r\n(NULL, 'product_cf3', NULL , '0'),\r\n(NULL, 'product_cf4', NULL , '0');\r\n",
        "date": "20061211",
        "ref": 31
    },
    {
        "name": "Adding custom fields to products",
        "patch": "ALTER TABLE `si_products`\r\nADD `prod_custom_field1` VARCHAR( 50 ) AFTER `prod_unit_price` ,\r\nADD `prod_custom_field2` VARCHAR( 50 ) AFTER `prod_custom_field1` ,\r\nADD `prod_custom_field3` VARCHAR( 50 ) AFTER `prod_custom_field2` ,\r\nADD `prod_custom_field4` VARCHAR( 50 ) AFTER `prod_custom_field3` ;\r\n",
        "date": "20061211",
        "ref": 32
    },
    {
        "name": "Alter product custom field 4",
        "patch": "UPDATE `si_custom_fields` SET `cf_custom_field` = 'product_cf4' WHERE `si_custom_fields`.`cf_id` =12 LIMIT 1 ;",
        "date": "20061214",
        "ref": 33
    },
    {
        "name": "Reset invoice template to default refer Issue 70",
        "patch": "UPDATE `si_defaults` SET `def_inv_template` = 'default' WHERE `def_id` =1 LIMIT 1;",
        "date": "20070125",
        "ref": 34
    },
    {
        "name": "Adding data to the custom fields table for invoices",
        "patch": "INSERT INTO `si_custom_fields` ( `cf_id` , `cf_custom_field` , `cf_custom_label` , `cf_display` ) VALUES\r\n(NULL, 'invoice_cf1', NULL , '0'),\r\n(NULL, 'invoice_cf2', NULL , '0'),\r\n(NULL, 'invoice_cf3', NULL , '0'),\r\n(NULL, 'invoice_cf4', NULL , '0');\r\n",
        "date": "20070204",
        "ref": 35
    },
    {
        "name": "Adding custom fields to the invoices table",
        "patch": "ALTER TABLE `si_invoices`\r\nADD `invoice_custom_field1` VARCHAR( 50 ) AFTER `inv_date` ,\r\nADD `invoice_custom_field2` VARCHAR( 50 ) AFTER `invoice_custom_field1` ,\r\nADD `invoice_custom_field3` VARCHAR( 50 ) AFTER `invoice_custom_field2` ,\r\nADD `invoice_custom_field4` VARCHAR( 50 ) AFTER `invoice_custom_field3` ;\r\n",
        "date": "20070204",
        "ref": 36
    },
    {
        "name": "Reset invoice template to default due to new invoice template system",
        "patch": "UPDATE `si_defaults` SET `def_inv_template` = 'default' WHERE `def_id` =1 LIMIT 1 ;",
        "date": "20070523",
        "ref": 37
    },
    {
        "name": "Alter custom field table - field length now 255 for field name",
        "patch": "ALTER TABLE `si_custom_fields` CHANGE `cf_custom_field` `cf_custom_field` VARCHAR( 255 )",
        "date": "20070523",
        "ref": 38
    },
    {
        "name": "Alter custom field table - field length now 255 for field label",
        "patch": "ALTER TABLE `si_custom_fields` CHANGE `cf_custom_label` `cf_custom_label` VARCHAR( 255 )",
        "date": "20070523",
        "ref": 39
    },
    {
        "name": "Alter field name in sql_patchmanager",
        "patch": "ALTER TABLE `si_sql_patchmanager` CHANGE `sql_patch` `sql_patch` VARCHAR( 255 ) NOT NULL",
        "date": "20070523",
        "ref": 40
    },
    {
        "name": "Alter field name in si_account_payments",
        "patch": "ALTER TABLE  `si_account_payments` CHANGE  `ac_id`  `id` INT( 10 ) NOT NULL AUTO_INCREMENT",
        "date": "20070523",
        "ref": 41
    },
    {
        "name": "Alter field name b_name to name",
        "patch": "ALTER TABLE  `si_biller` CHANGE  `b_name`  `name` VARCHAR( 255 ) NULL DEFAULT NULL;",
        "date": "20070523",
        "ref": 42
    },
    {
        "name": "Alter field name b_id to id",
        "patch": "ALTER TABLE  `si_biller` CHANGE  `b_id`  `id` INT( 10 ) NOT NULL AUTO_INCREMENT",
        "date": "20070523",
        "ref": 43
    },
    {
        "name": "Alter field name b_street_address to street_address",
        "patch": "ALTER TABLE  `si_biller` CHANGE  `b_street_address`  `street_address` VARCHAR( 255 ) NULL DEFAULT NULL",
        "date": "20070523",
        "ref": 44
    },
    {
        "name": "Alter field name b_street_address2 to street_address2",
        "patch": "ALTER TABLE  `si_biller` CHANGE  `b_street_address2`  `street_address2` VARCHAR( 255 ) NULL DEFAULT NULL",
        "date": "20070523",
        "ref": 45
    },
    {
        "name": "Alter field name b_city to city",
        "patch": "ALTER TABLE  `si_biller` CHANGE  `b_city`  `city` VARCHAR( 255 ) NULL DEFAULT NULL",
        "date": "20070523",
        "ref": 46
    },
    {
        "name": "Alter field name b_state to state",
        "patch": "ALTER TABLE  `si_biller` CHANGE  `b_state`  `state` VARCHAR( 255 ) NULL DEFAULT NULL",
        "date": "20070523",
        "ref": 47
    },
    {
        "name": "Alter field name b_zip_code to zip_code",
        "patch": "ALTER TABLE  `si_biller` CHANGE  `b_zip_code`  `zip_code` VARCHAR( 255 ) NULL DEFAULT NULL",
        "date": "20070523",
        "ref": 48
    },
    {
        "name": "Alter field name b_country to country",
        "patch": "ALTER TABLE  `si_biller` CHANGE  `b_country`  `country` VARCHAR( 255 ) NULL DEFAULT NULL",
        "date": "20070523",
        "ref": 49
    },
    {
        "name": "Alter field name b_phone to phone",
        "patch": "ALTER TABLE  `si_biller` CHANGE  `b_phone`  `phone` VARCHAR( 255 ) NULL DEFAULT NULL",
        "date": "20070523",
        "ref": 50
    },
    {
        "name": "Alter field name b_mobile_phone to mobile_phone",
        "patch": "ALTER TABLE  `si_biller` CHANGE  `b_mobile_phone`  `mobile_phone` VARCHAR( 255 ) NULL DEFAULT NULL",
        "date": "20070523",
        "ref": 51
    },
    {
        "name": "Alter field name b_fax to fax",
        "patch": "ALTER TABLE  `si_biller` CHANGE  `b_fax`  `fax` VARCHAR( 255 ) NULL DEFAULT NULL",
        "date": "20070523",
        "ref": 52
    },
    {
        "name": "Alter field name b_email to email",
        "patch": "ALTER TABLE  `si_biller` CHANGE  `b_email`  `email` VARCHAR( 255 ) NULL DEFAULT NULL",
        "date": "20070523",
        "ref": 53
    },
    {
        "name": "Alter field name b_co_logo to logo",
        "patch": "ALTER TABLE  `si_biller` CHANGE  `b_co_logo`  `logo` VARCHAR( 255 ) NULL DEFAULT NULL",
        "date": "20070523",
        "ref": 54
    },
    {
        "name": "Alter field name b_co_footer to footer",
        "patch": "ALTER TABLE `si_biller` CHANGE `b_co_footer` `footer` TEXT NULL DEFAULT NULL ",
        "date": "20070523",
        "ref": 55
    },
    {
        "name": "Alter field name b_notes to notes",
        "patch": "ALTER TABLE `si_biller` CHANGE `b_notes` `notes` TEXT NULL DEFAULT NULL ",
        "date": "20070523",
        "ref": 56
    },
    {
        "name": "Alter field name b_enabled to enabled",
        "patch": "ALTER TABLE `si_biller` CHANGE `b_enabled` `enabled` VARCHAR( 1 ) NOT NULL DEFAULT '1'",
        "date": "20070523",
        "ref": 57
    },
    {
        "name": "Alter field name b_custom_field1 to custom_field1",
        "patch": "ALTER TABLE `si_biller` CHANGE `b_custom_field1` `custom_field1` VARCHAR( 255 ) NULL DEFAULT NULL",
        "date": "20070523",
        "ref": 58
    },
    {
        "name": "Alter field name b_custom_field2 to custom_field2",
        "patch": "ALTER TABLE `si_biller` CHANGE `b_custom_field2` `custom_field2` VARCHAR( 255 ) NULL DEFAULT NULL",
        "date": "20070523",
        "ref": 59
    },
    {
        "name": "Alter field name b_custom_field3 to custom_field3",
        "patch": "ALTER TABLE `si_biller` CHANGE `b_custom_field3` `custom_field3` VARCHAR( 255 ) NULL DEFAULT NULL",
        "date": "20070523",
        "ref": 60
    },
    {
        "name": "Alter field name b_custom_field4 to custom_field4",
        "patch": "ALTER TABLE `si_biller` CHANGE `b_custom_field4` `custom_field4` VARCHAR( 255 ) NULL DEFAULT NULL",
        "date": "20070523",
        "ref": 61
    },
    {
        "name": "Introduce system_defaults table",
        "patch": "CREATE TABLE `si_system_defaults` (\r\n`id` int(11) NOT NULL auto_increment,\r\n`name` varchar(30) NOT NULL,\r\n`value` varchar(30) NOT NULL,\r\nPRIMARY KEY  (`id`),\r\nUNIQUE KEY `name` (`name`)) ENGINE = MYISAM DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci\r\n",
        "date": "20070523",
        "ref": 62
    },
    {
        "name": "Insert date into the system_defaults table",
        "patch": "\r\nINSERT INTO `si_system_defaults` (`id`, `name`, `value`) VALUES\r\n(1, 'biller', '4'),\r\n(2, 'customer', '3'),\r\n(3, 'tax', '1'),\r\n(4, 'preference', '1'),\r\n(5, 'line_items', '5'),\r\n(6, 'template', 'default'),\r\n(7, 'payment_type', '1'),\r\n(8, 'language', 'en'),\r\n(9, 'dateformat', 'Y-m-d'),\r\n(10, 'spreadsheet', 'xls'),\r\n(11, 'wordprocessor', 'doc'),\r\n(12, 'pdfscreensize', '800'),\r\n(13, 'pdfpapersize', 'A4'),\r\n(14, 'pdfleftmargin', '15'),\r\n(15, 'pdfrightmargin', '15'),\r\n(16, 'pdftopmargin', '15'),\r\n(17, 'pdfbottommargin', '15'),\r\n(18, 'emailhost', 'localhost'),\r\n(19, 'emailusername', ''),\r\n(20, 'emailpassword', '');\r\n",
        "date": "20070523",
        "ref": 63
    },
    {
        "name": "Alter field name prod_id to id",
        "patch": "ALTER TABLE `si_products` CHANGE `prod_id` `id` INT( 11 ) NOT NULL AUTO_INCREMENT",
        "date": "20070523",
        "ref": 64
    },
    {
        "name": "Alter field name prod_description to description",
        "patch": "ALTER TABLE `si_products` CHANGE `prod_description` `description` TEXT NOT NULL ",
        "date": "20070523",
        "ref": 65
    },
    {
        "name": "Alter field name prod_unit_price to unit_price",
        "patch": " ALTER TABLE `si_products` CHANGE `prod_unit_price` `unit_price` DECIMAL( 25, 2 ) NULL DEFAULT NULL",
        "date": "20070523",
        "ref": 66
    },
    {
        "name": "Alter field name prod_custom_field1 to custom_field1",
        "patch": "ALTER TABLE `si_products` CHANGE `prod_custom_field1` `custom_field1` VARCHAR( 255 ) NULL DEFAULT NULL",
        "date": "20070523",
        "ref": 67
    },
    {
        "name": "Alter field name prod_custom_field2 to custom_field2",
        "patch": "ALTER TABLE `si_products` CHANGE `prod_custom_field2` `custom_field2` VARCHAR( 255 ) NULL DEFAULT NULL",
        "date": "20070523",
        "ref": 68
    },
    {
        "name": "Alter field name prod_custom_field3 to custom_field3",
        "patch": "ALTER TABLE `si_products` CHANGE `prod_custom_field3` `custom_field3` VARCHAR( 255 ) NULL DEFAULT NULL",
        "date": "20070523",
        "ref": 69
    },
    {
        "name": "Alter field name prod_custom_field4 to custom_field4",
        "patch": "ALTER TABLE `si_products` CHANGE `prod_custom_field4` `custom_field4` VARCHAR( 255 ) NULL DEFAULT NULL",
        "date": "20070523",
        "ref": 70
    },
    {
        "name": "Alter field name prod_notes to notes",
        "patch": "ALTER TABLE `si_products` CHANGE `prod_notes` `notes` TEXT NOT NULL",
        "date": "20070523",
        "ref": 71
    },
    {
        "name": "Alter field name prod_enabled to enabled",
        "patch": "ALTER TABLE `si_products` CHANGE `prod_enabled` `enabled` VARCHAR( 1 ) NOT NULL DEFAULT '1'",
        "date": "20070523",
        "ref": 72
    },
    {
        "name": "Alter field name c_id to id",
        "patch": "ALTER TABLE `si_customers` CHANGE `c_id` `id` INT( 10 ) NOT NULL AUTO_INCREMENT",
        "date": "20070523",
        "ref": 73
    },
    {
        "name": "Alter field name c_attention to attention",
        "patch": "ALTER TABLE `si_customers` CHANGE `c_attention` `attention` VARCHAR( 255 ) NULL DEFAULT NULL",
        "date": "20070523",
        "ref": 74
    },
    {
        "name": "Alter field name c_name to name",
        "patch": "ALTER TABLE `si_customers` CHANGE `c_name` `name` VARCHAR( 255 ) NULL DEFAULT NULL",
        "date": "20070523",
        "ref": 75
    },
    {
        "name": "Alter field name c_street_address to street_address",
        "patch": "ALTER TABLE `si_customers` CHANGE `c_street_address` `street_address` VARCHAR( 255 ) NULL DEFAULT NULL",
        "date": "20070523",
        "ref": 76
    },
    {
        "name": "Alter field name c_street_address2 to street_address2",
        "patch": "ALTER TABLE `si_customers` CHANGE `c_street_address2` `street_address2` VARCHAR( 255 ) NULL DEFAULT NULL",
        "date": "20070523",
        "ref": 77
    },
    {
        "name": "Alter field name c_city to city",
        "patch": "ALTER TABLE `si_customers` CHANGE `c_city` `city` VARCHAR( 255 ) NULL DEFAULT NULL",
        "date": "20070523",
        "ref": 78
    },
    {
        "name": "Alter field name c_state to state",
        "patch": "ALTER TABLE `si_customers` CHANGE `c_state` `state` VARCHAR( 255 ) NULL DEFAULT NULL",
        "date": "20070523",
        "ref": 79
    },
    {
        "name": "Alter field name c_zip_code to zip_code",
        "patch": "ALTER TABLE `si_customers` CHANGE `c_zip_code` `zip_code` VARCHAR( 255 ) NULL DEFAULT NULL",
        "date": "20070523",
        "ref": 80
    },
    {
        "name": "Alter field name c_country to country",
        "patch": "ALTER TABLE `si_customers` CHANGE `c_country` `country` VARCHAR( 255 ) NULL DEFAULT NULL",
        "date": "20070523",
        "ref": 81
    },
    {
        "name": "Alter field name c_phone to phone",
        "patch": "ALTER TABLE `si_customers` CHANGE `c_phone` `phone` VARCHAR( 255 ) NULL DEFAULT NULL",
        "date": "20070523",
        "ref": 82
    },
    {
        "name": "Alter field name c_mobile_phone to mobile_phone",
        "patch": "ALTER TABLE `si_customers` CHANGE `c_mobile_phone` `mobile_phone` VARCHAR( 255 ) NULL DEFAULT NULL",
        "date": "20070523",
        "ref": 83
    },
    {
        "name": "Alter field name c_fax to fax",
        "patch": "ALTER TABLE `si_customers` CHANGE `c_fax` `fax` VARCHAR( 255 ) NULL DEFAULT NULL",
        "date": "20070523",
        "ref": 84
    },
    {
        "name": "Alter field name c_email to email",
        "patch": "ALTER TABLE `si_customers` CHANGE `c_email` `email` VARCHAR( 255 ) NULL DEFAULT NULL",
        "date": "20070523",
        "ref": 85
    },
    {
        "name": "Alter field name c_notes to notes",
        "patch": "ALTER TABLE `si_customers` CHANGE `c_notes` `notes` TEXT  NULL DEFAULT NULL",
        "date": "20070523",
        "ref": 86
    },
    {
        "name": "Alter field name c_custom_field1 to custom_field1",
        "patch": "ALTER TABLE `si_customers` CHANGE `c_custom_field1` `custom_field1` VARCHAR( 255 ) NULL DEFAULT NULL",
        "date": "20070523",
        "ref": 87
    },
    {
        "name": "Alter field name c_custom_field2 to custom_field2",
        "patch": "ALTER TABLE `si_customers` CHANGE `c_custom_field2` `custom_field2` VARCHAR( 255 ) NULL DEFAULT NULL",
        "date": "20070523",
        "ref": 88
    },
    {
        "name": "Alter field name c_custom_field3 to custom_field3",
        "patch": "ALTER TABLE `si_customers` CHANGE `c_custom_field3` `custom_field3` VARCHAR( 255 ) NULL DEFAULT NULL",
        "date": "20070523",
        "ref": 89
    },
    {
        "name": "Alter field name c_custom_field4 to custom_field4",
        "patch": "ALTER TABLE `si_customers` CHANGE `c_custom_field4` `custom_field4` VARCHAR( 255 ) NULL DEFAULT NULL",
        "date": "20070523",
        "ref": 90
    },
    {
        "name": "Alter field name c_enabled to enabled",
        "patch": "ALTER TABLE `si_customers` CHANGE `c_enabled` `enabled` VARCHAR( 1 ) NOT NULL DEFAULT '1'",
        "date": "20070523",
        "ref": 91
    },
    {
        "name": "Alter field name inv_id to id",
        "patch": "ALTER TABLE `si_invoices` CHANGE `inv_id` `id` INT( 10 ) NOT NULL AUTO_INCREMENT",
        "date": "20070523",
        "ref": 92
    },
    {
        "name": "Alter field name inv_biller_id to biller_id",
        "patch": "ALTER TABLE `si_invoices` CHANGE `inv_biller_id` `biller_id` INT( 10 ) NOT NULL DEFAULT '0'",
        "date": "20070523",
        "ref": 93
    },
    {
        "name": "Alter field name inv_customer_id to customer_id",
        "patch": "ALTER TABLE `si_invoices` CHANGE `inv_customer_id` `customer_id` INT( 10 ) NOT NULL DEFAULT '0'",
        "date": "20070523",
        "ref": 94
    },
    {
        "name": "Alter field name inv_type type_id",
        "patch": "ALTER TABLE `si_invoices` CHANGE `inv_type` `type_id` INT( 10 ) NOT NULL DEFAULT '0'",
        "date": "20070523",
        "ref": 95
    },
    {
        "name": "Alter field name inv_preference to preference_id",
        "patch": "ALTER TABLE `si_invoices` CHANGE `inv_preference` `preference_id` INT( 10 ) NOT NULL DEFAULT '0'",
        "date": "20070523",
        "ref": 96
    },
    {
        "name": "Alter field name inv_date to date",
        "patch": "ALTER TABLE `si_invoices` CHANGE `inv_date` `date` DATETIME NOT NULL DEFAULT '0000-00-00 00:00:00'",
        "date": "20070523",
        "ref": 97
    },
    {
        "name": "Alter field name invoice_custom_field1 to custom_field1",
        "patch": "ALTER TABLE `si_invoices` CHANGE `invoice_custom_field1` `custom_field1` VARCHAR( 50 ) NULL DEFAULT NULL",
        "date": "20070523",
        "ref": 98
    },
    {
        "name": "Alter field name invoice_custom_field2 to custom_field2",
        "patch": "ALTER TABLE `si_invoices` CHANGE `invoice_custom_field2` `custom_field2` VARCHAR( 50 ) NULL DEFAULT NULL",
        "date": "20070523",
        "ref": 99
    },
    {
        "name": "Alter field name invoice_custom_field3 to custom_field3",
        "patch": "ALTER TABLE `si_invoices` CHANGE `invoice_custom_field3` `custom_field3` VARCHAR( 50 ) NULL DEFAULT NULL",
        "date": "20070523",
        "ref": 100
    },
    {
        "name": "Alter field name invoice_custom_field4 to custom_field4",
        "patch": "ALTER TABLE `si_invoices` CHANGE `invoice_custom_field4` `custom_field4` VARCHAR( 50 ) NULL DEFAULT NULL",
        "date": "20070523",
        "ref": 101
    },
    {
        "name": "Alter field name inv_note to note ",
        "patch": "ALTER TABLE `si_invoices` CHANGE `inv_note` `note` TEXT NULL DEFAULT NULL",
        "date": "20070523",
        "ref": 102
    },
    {
        "name": "Alter field name inv_it_id to id ",
        "patch": "ALTER TABLE `si_invoice_items` CHANGE `inv_it_id` `id` INT( 10 ) NOT NULL AUTO_INCREMENT",
        "date": "20070523",
        "ref": 103
    },
    {
        "name": "Alter field name inv_it_invoice_id to invoice_id ",
        "patch": "ALTER TABLE `si_invoice_items` CHANGE `inv_it_invoice_id` `invoice_id` INT( 10 ) NOT NULL DEFAULT '0'",
        "date": "20070523",
        "ref": 104
    },
    {
        "name": "Alter field name inv_it_quantity to quantity ",
        "patch": "ALTER TABLE `si_invoice_items` CHANGE `inv_it_quantity` `quantity` FLOAT NOT NULL DEFAULT '0'",
        "date": "20070523",
        "ref": 105
    },
    {
        "name": "Alter field name inv_it_product_id to product_id ",
        "patch": "ALTER TABLE `si_invoice_items` CHANGE `inv_it_product_id` `product_id` INT( 10 ) NULL DEFAULT '0'",
        "date": "20070523",
        "ref": 106
    },
    {
        "name": "Alter field name inv_it_unit_price to unit_price ",
        "patch": "ALTER TABLE `si_invoice_items` CHANGE `inv_it_unit_price` `unit_price` DOUBLE( 25, 2 ) NULL DEFAULT '0.00'",
        "date": "20070523",
        "ref": 107
    },
    {
        "name": "Alter field name inv_it_tax_id to tax_id  ",
        "patch": "ALTER TABLE `si_invoice_items` CHANGE `inv_it_tax_id` `tax_id` VARCHAR( 25 ) NOT NULL DEFAULT '0'",
        "date": "20070523",
        "ref": 108
    },
    {
        "name": "Alter field name inv_it_tax to tax  ",
        "patch": "ALTER TABLE `si_invoice_items` CHANGE `inv_it_tax` `tax` DOUBLE( 25, 2 ) NULL DEFAULT '0.00'",
        "date": "20070523",
        "ref": 109
    },
    {
        "name": "Alter field name inv_it_tax_amount to tax_amount  ",
        "patch": "ALTER TABLE `si_invoice_items` CHANGE `inv_it_tax_amount` `tax_amount` DOUBLE( 25, 2 ) NULL DEFAULT NULL ",
        "date": "20070523",
        "ref": 110
    },
    {
        "name": "Alter field name inv_it_gross_total to gross_total ",
        "patch": "ALTER TABLE `si_invoice_items` CHANGE `inv_it_gross_total` `gross_total` DOUBLE( 25, 2 ) NULL DEFAULT '0.00'",
        "date": "20070523",
        "ref": 111
    },
    {
        "name": "Alter field name inv_it_description to description ",
        "patch": "ALTER TABLE `si_invoice_items` CHANGE `inv_it_description` `description` TEXT NULL DEFAULT NULL",
        "date": "20070523",
        "ref": 112
    },
    {
        "name": "Alter field name inv_it_total to total",
        "patch": "ALTER TABLE `si_invoice_items` CHANGE `inv_it_total` `total` DOUBLE( 25, 2 ) NULL DEFAULT '0.00'",
        "date": "20070523",
        "ref": 113
    },
    {
        "name": "Add logging table",
        "patch": "CREATE TABLE `si_log` (\r\n`id` BIGINT NOT NULL AUTO_INCREMENT PRIMARY KEY ,\r\n`timestamp` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ,\r\n`userid` INT NOT NULL ,\r\n`sqlquerie` TEXT NOT NULL\r\n) ENGINE = MYISAM DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;\r\n",
        "date": "20070523",
        "ref": 114
    },
    {
        "name": "Add logging system preference",
        "patch": "INSERT INTO `si_system_defaults` ( `id` , `name` , `value` ) VALUES (NULL , 'logging', '0');",
        "date": "20070523",
        "ref": 115
    },
    {
        "name": "System defaults conversion patch - set default biller",
        "patch": "UPDATE `si_system_defaults` SET value =  where name = 'biller'",
        "date": "20070523",
        "ref": 116
    },
    {
        "name": "System defaults conversion patch - set default customer",
        "patch": "UPDATE `si_system_defaults` SET value =  where name = 'customer'",
        "date": "20070523",
        "ref": 117
    },
    {
        "name": "System defaults conversion patch - set default tax",
        "patch": "UPDATE `si_system_defaults` SET value =  where name = 'tax'",
        "date": "20070523",
        "ref": 118
    },
    {
        "name": "System defaults conversion patch - set default invoice reference",
        "patch": "UPDATE `si_system_defaults` SET value =  where name = 'preference'",
        "date": "20070523",
        "ref": 119
    },
    {
        "name": "System defaults conversion patch - set default number of line items",
        "patch": "UPDATE `si_system_defaults` SET value =  where name = 'line_items'",
        "date": "20070523",
        "ref": 120
    },
    {
        "name": "System defaults conversion patch - set default invoice template",
        "patch": "UPDATE `si_system_defaults` SET value = '' where name = 'template'",
        "date": "20070523",
        "ref": 121
    },
    {
        "name": "System defaults conversion patch - set default paymemt type",
        "patch": "UPDATE `si_system_defaults` SET value =  where name = 'payment_type'",
        "date": "20070523",
        "ref": 122
    },
    {
        "name": "Add option to delete invoices into the system_defaults table",
        "patch": "INSERT INTO `si_system_defaults` (`id`, `name`, `value`) VALUES (NULL, 'delete', 'N');",
        "date": "200709",
        "ref": 123
    },
    {
        "name": "Set default language in new lang system",
        "patch": "UPDATE `si_system_defaults` SET value = 'en-gb' where name ='language';",
        "date": "200709",
        "ref": 124
    },
    {
        "name": "Change log table that usernames are also possible as id",
        "patch": "ALTER TABLE `si_log` CHANGE `userid` `userid` VARCHAR( 40 ) NOT NULL DEFAULT '0'",
        "date": "200709",
        "ref": 125
    },
    {
        "name": "Add visible attribute to the products table",
        "patch": "ALTER TABLE  `si_products` ADD  `visible` BOOL NOT NULL DEFAULT  '1';",
        "date": "200709",
        "ref": 126
    },
    {
        "name": "Add last_id to logging table",
        "patch": "ALTER TABLE  `si_log` ADD  `last_id` INT NULL ;",
        "date": "200709",
        "ref": 127
    },
    {
        "name": "Add user table",
        "patch": "ALTER TABLE `si_users` ADD `user_domain` VARCHAR( 255 ) NOT NULL AFTER `user_group` ;",
        "date": "200709",
        "ref": 128
    },
    {
        "name": "Fill user table with default values",
        "patch": "INSERT INTO `si_users` (`user_id`, `user_email`, `user_name`, `user_group`, `user_domain`, `user_password`) VALUES (NULL, 'demo@simpleinvoices.org', 'demo', '1', '1', MD5('demo'))",
        "date": "200709",
        "ref": 129
    },
    {
        "name": "Create auth_challenges table",
        "patch": "CREATE TABLE IF NOT EXISTS `si_auth_challenges` (\r\n`challenges_key` int(11) NOT NULL,\r\n`challenges_timestamp` timestamp NOT NULL default CURRENT_TIMESTAMP on update CURRENT_TIMESTAMP);\r\n",
        "date": "200709",
        "ref": 130
    },
    {
        "name": "Make tax field 3 decimal places",
        "patch": "ALTER TABLE `si_tax` CHANGE `tax_percentage` `tax_percentage` DECIMAL (10,3)  NULL",
        "date": "200709",
        "ref": 131
    },
    {
        "name": "Correct Foreign Key Tax ID Field Type in Invoice Items Table",
        "patch": "ALTER TABLE  `si_invoice_items` CHANGE `tax_id` `tax_id` int  DEFAULT '0' NOT NULL ;",
        "date": "20071126",
        "ref": 132
    },
    {
        "name": "Correct Foreign Key Invoice ID Field Type in Ac Payments Table",
        "patch": "ALTER TABLE  `si_account_payments` CHANGE `ac_inv_id` `ac_inv_id` int  NOT NULL ;",
        "date": "20071126",
        "ref": 133
    },
    {
        "name": "Drop non-int compatible default from si_sql_patchmanager",
        "patch": "SELECT 1+1;",
        "date": "20071218",
        "ref": 134
    },
    {
        "name": "Change sql_patch_ref type in sql_patchmanager to int",
        "patch": "ALTER TABLE  `si_sql_patchmanager` change `sql_patch_ref` `sql_patch_ref` int NOT NULL ;",
        "date": "20071218",
        "ref": 135
    },
    {
        "name": "Create domain mapping table",
        "patch": "CREATE TABLE si_user_domain (\r\n\t    \t\t`id` int(11) NOT NULL auto_increment  PRIMARY KEY,\r\n            \t`name` varchar(255) UNIQUE NOT NULL\r\n            \t) ENGINE = MYISAM DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci",
        "date": "200712",
        "ref": 136
    },
    {
        "name": "Insert default domain",
        "patch": "INSERT INTO si_user_domain (name) VALUES ('default');",
        "date": "200712",
        "ref": 137
    },
    {
        "name": "Add domain_id to payment_types table",
        "patch": "ALTER TABLE `si_payment_types` ADD `domain_id` INT  NOT NULL AFTER `pt_id` ;",
        "date": "200712",
        "ref": 138
    },
    {
        "name": "Add domain_id to preferences table",
        "patch": "ALTER TABLE `si_preferences` ADD `domain_id` INT  NOT NULL AFTER `pref_id` ;",
        "date": "200712",
        "ref": 139
    },
    {
        "name": "Add domain_id to products table",
        "patch": "ALTER TABLE `si_products` ADD `domain_id` INT  NOT NULL AFTER `id` ;",
        "date": "200712",
        "ref": 140
    },
    {
        "name": "Add domain_id to billers table",
        "patch": "ALTER TABLE `si_biller` ADD `domain_id` INT  NOT NULL AFTER `id` ;",
        "date": "200712",
        "ref": 141
    },
    {
        "name": "Add domain_id to invoices table",
        "patch": "ALTER TABLE `si_invoices` ADD `domain_id` INT NOT NULL AFTER `id` ;",
        "date": "200712",
        "ref": 142
    },
    {
        "name": "Add domain_id to customers table",
        "patch": "ALTER TABLE `si_customers` ADD `domain_id` INT NOT NULL AFTER `id` ;",
        "date": "200712",
        "ref": 143
    },
    {
        "name": "Change group field to user_role_id in users table",
        "patch": "ALTER TABLE `si_users` CHANGE `user_group` `user_role_id` INT  DEFAULT '1' NOT NULL;",
        "date": "20080102",
        "ref": 144
    },
    {
        "name": "Change domain field to user_domain_id in users table",
        "patch": "ALTER TABLE `si_users` CHANGE `user_domain` `user_domain_id` INT  DEFAULT '1' NOT NULL;",
        "date": "20080102",
        "ref": 145
    },
    {
        "name": "Drop old auth_challenges table",
        "patch": "DROP TABLE IF EXISTS `si_auth_challenges`;",
        "date": "20080102",
        "ref": 146
    },
    {
        "name": "Create user_role table",
        "patch": "CREATE TABLE si_user_role (\r\n\t    `id` int(11) NOT NULL auto_increment  PRIMARY KEY,\r\n            `name` varchar(255) UNIQUE NOT NULL\r\n            ) ENGINE=MYISAM DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;",
        "date": "20080102",
        "ref": 147
    },
    {
        "name": "Insert default user group",
        "patch": "INSERT INTO si_user_role (name) VALUES ('administrator');",
        "date": "20080102",
        "ref": 148
    },
    {
        "name": "Table = Account_payments Field = ac_amount : change field type and length to decimal",
        "patch": "ALTER TABLE `si_account_payments` CHANGE `ac_amount` `ac_amount` DECIMAL( 25, 6 ) NOT NULL;",
        "date": "20080128",
        "ref": 149
    },
    {
        "name": "Table = Invoice_items Field = quantity : change field type and length to decimal",
        "patch": "ALTER TABLE `si_invoice_items` CHANGE `quantity` `quantity` DECIMAL( 25, 6 ) NOT NULL DEFAULT '0' ",
        "date": "20080128",
        "ref": 150
    },
    {
        "name": "Table = Invoice_items Field = unit_price : change field type and length to decimal",
        "patch": "ALTER TABLE `si_invoice_items` CHANGE `unit_price` `unit_price` DECIMAL( 25, 6 ) NULL DEFAULT '0.00' ",
        "date": "20080128",
        "ref": 151
    },
    {
        "name": "Table = Invoice_items Field = tax : change field type and length to decimal",
        "patch": "ALTER TABLE `si_invoice_items` CHANGE `tax` `tax` DECIMAL( 25, 6 ) NULL DEFAULT '0.00' ",
        "date": "20080128",
        "ref": 152
    },
    {
        "name": "Table = Invoice_items Field = tax_amount : change field type and length to decimal",
        "patch": "ALTER TABLE `si_invoice_items` CHANGE `tax_amount` `tax_amount` DECIMAL( 25, 6 ) NULL DEFAULT '0.00'",
        "date": "20080128",
        "ref": 153
    },
    {
        "name": "Table = Invoice_items Field = gross_total : change field type and length to decimal",
        "patch": "ALTER TABLE `si_invoice_items` CHANGE `gross_total` `gross_total` DECIMAL( 25, 6 ) NULL DEFAULT '0.00'",
        "date": "20080128",
        "ref": 154
    },
    {
        "name": "Table = Invoice_items Field = total : change field type and length to decimal",
        "patch": "ALTER TABLE `si_invoice_items` CHANGE `total` `total` DECIMAL( 25, 6 ) NULL DEFAULT '0.00' ",
        "date": "20080128",
        "ref": 155
    },
    {
        "name": "Table = Products Field = unit_price : change field type and length to decimal",
        "patch": "ALTER TABLE `si_products` CHANGE `unit_price` `unit_price` DECIMAL( 25, 6 ) NULL DEFAULT '0.00'",
        "date": "20080128",
        "ref": 156
    },
    {
        "name": "Table = Tax Field = quantity : change field type and length to decimal",
        "patch": "ALTER TABLE `si_tax` CHANGE `tax_percentage` `tax_percentage` DECIMAL( 25, 6 ) NULL DEFAULT '0.00'",
        "date": "20080128",
        "ref": 157
    },
    {
        "name": "Rename table si_account_payments to si_payment",
        "patch": "RENAME TABLE `si_account_payments` TO  `si_payment`;",
        "date": "20081201",
        "ref": 158
    },
    {
        "name": "Add domain_id to payments table",
        "patch": "ALTER TABLE  `si_payment` ADD  `domain_id` INT NOT NULL ;",
        "date": "20081201",
        "ref": 159
    },
    {
        "name": "Add domain_id to tax table",
        "patch": "ALTER TABLE  `si_tax` ADD  `domain_id` INT NOT NULL ;",
        "date": "20081201",
        "ref": 160
    },
    {
        "name": "Change user table from si_users to si_user",
        "patch": "RENAME TABLE `si_users` TO  `si_user` ;",
        "date": "20081201",
        "ref": 161
    },
    {
        "name": "Add new invoice items tax table",
        "patch": "CREATE TABLE `si_invoice_item_tax` (\r\n\t\t`id` INT( 11 ) NOT NULL AUTO_INCREMENT PRIMARY KEY ,\r\n\t\t`invoice_item_id` INT( 11 ) NOT NULL ,\r\n\t\t`tax_id` INT( 11 ) NOT NULL ,\r\n\t\t`tax_type` VARCHAR( 1 ) NOT NULL ,\r\n\t\t`tax_rate` DECIMAL( 25, 6 ) NOT NULL ,\r\n\t\t`tax_amount` DECIMAL( 25, 6 ) NOT NULL\r\n\t\t) ENGINE = MYISAM DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;",
        "date": "20081212",
        "ref": 162
    },
    {
        "name": "Convert tax info in si_invoice_items to si_invoice_item_tax",
        "patch": "insert into `si_invoice_item_tax` (invoice_item_id, tax_id, tax_type, tax_rate, tax_amount) select id, tax_id, '%', tax, tax_amount from `si_invoice_items`;",
        "date": "20081212",
        "ref": 163
    },
    {
        "name": "Add default tax id into products table",
        "patch": "ALTER TABLE `si_products` ADD `default_tax_id` INT( 11 ) NULL AFTER `unit_price` ;",
        "date": "20081212",
        "ref": 164
    },
    {
        "name": "Add default tax id 2 into products table",
        "patch": "ALTER TABLE `si_products` ADD `default_tax_id_2` INT( 11 ) NULL AFTER `default_tax_id` ;",
        "date": "20081212",
        "ref": 165
    },
    {
        "name": "Add default tax into product items",
        "patch": "update `si_products` set default_tax_id = (select value from `si_system_defaults` where name ='tax');",
        "date": "20081212",
        "ref": 166
    },
    {
        "name": "Add default number of taxes per line item into system_defaults",
        "patch": "insert into `si_system_defaults` values ('','tax_per_line_item','1')",
        "date": "20081212",
        "ref": 167
    },
    {
        "name": "Add tax type",
        "patch": "ALTER TABLE `si_tax` ADD `type` VARCHAR( 1 ) NULL AFTER `tax_percentage` ;",
        "date": "20081212",
        "ref": 168
    },
    {
        "name": "Set tax type on current taxes to %",
        "patch": "UPDATE `si_tax` SET `type` = '%' ;",
        "date": "20081212",
        "ref": 169
    },
    {
        "name": "Set domain_id on tax table to 1",
        "patch": "UPDATE `si_tax` SET `domain_id` = '1' ;",
        "date": "20081229",
        "ref": 170
    },
    {
        "name": "Set domain_id on payment table to 1",
        "patch": "UPDATE `si_payment` SET `domain_id` = '1' ;",
        "date": "20081229",
        "ref": 171
    },
    {
        "name": "Set domain_id on payment_types table to 1",
        "patch": "UPDATE `si_payment_types` SET `domain_id` = '1' ;",
        "date": "20081229",
        "ref": 172
    },
    {
        "name": "Set domain_id on preference table to 1",
        "patch": "UPDATE `si_preferences` SET `domain_id` = '1' ;",
        "date": "20081229",
        "ref": 173
    },
    {
        "name": "Set domain_id on products table to 1",
        "patch": "UPDATE `si_products` SET `domain_id` = '1' ;",
        "date": "20081229",
        "ref": 174
    },
    {
        "name": "Set domain_id on biller table to 1",
        "patch": "UPDATE `si_biller` SET `domain_id` = '1' ;",
        "date": "20081229",
        "ref": 175
    },
    {
        "name": "Set domain_id on invoices table to 1",
        "patch": "UPDATE `si_invoices` SET `domain_id` = '1' ;",
        "date": "20081229",
        "ref": 176
    },
    {
        "name": "Set domain_id on customers table to 1",
        "patch": "UPDATE `si_customers` SET `domain_id` = '1' ;",
        "date": "20081229",
        "ref": 177
    },
    {
        "name": "Rename si_user.user_id to si_user.id",
        "patch": "ALTER TABLE `si_user` CHANGE `user_id` `id` int(11) ;",
        "date": "20081229",
        "ref": 178
    },
    {
        "name": "Rename si_user.user_email to si_user.email",
        "patch": "ALTER TABLE `si_user` CHANGE `user_email` `email` VARCHAR( 255 );",
        "date": "20081229",
        "ref": 179
    },
    {
        "name": "Rename si_user.user_name to si_user.name",
        "patch": "ALTER TABLE `si_user` CHANGE `user_name` `name` VARCHAR( 255 );",
        "date": "20081229",
        "ref": 180
    },
    {
        "name": "Rename si_user.user_role_id to si_user.role_id",
        "patch": "ALTER TABLE `si_user` CHANGE `user_role_id` `role_id` int(11);",
        "date": "20081229",
        "ref": 181
    },
    {
        "name": "Rename si_user.user_domain_id to si_user.domain_id",
        "patch": "ALTER TABLE `si_user` CHANGE `user_domain_id` `domain_id` int(11) ;",
        "date": "20081229",
        "ref": 182
    },
    {
        "name": "Rename si_user.user_password to si_user.password",
        "patch": "ALTER TABLE `si_user` CHANGE `user_password` `password` VARCHAR( 255 )  ;",
        "date": "20081229",
        "ref": 183
    },
    {
        "name": "Drop name column from si_user table",
        "patch": "ALTER TABLE `si_user` DROP `name`  ;",
        "date": "20081230",
        "ref": 184
    },
    {
        "name": "Drop old defaults table",
        "patch": "DROP TABLE `si_defaults` ;",
        "date": "20081230",
        "ref": 185
    },
    {
        "name": "Set domain_id on customers table to 1",
        "patch": "ALTER TABLE  `si_custom_fields` ADD  `domain_id` INT NOT NULL ;",
        "date": "20081230",
        "ref": 186
    },
    {
        "name": "Set domain_id on custom_feilds table to 1",
        "patch": "UPDATE `si_custom_fields` SET `domain_id` = '1' ;",
        "date": "20081230",
        "ref": 187
    },
    {
        "name": "Drop tax_id column from si_invoice_items table",
        "patch": "ALTER TABLE `si_invoice_items` DROP `tax_id`  ;",
        "date": "20090118",
        "ref": 188
    },
    {
        "name": "Drop tax column from si_invoice_items table",
        "patch": "ALTER TABLE `si_invoice_items` DROP `tax`  ;",
        "date": "20090118",
        "ref": 189
    },
    {
        "name": "Insert user role - user",
        "patch": "INSERT INTO si_user_role (name) VALUES ('user');",
        "date": "20090215",
        "ref": 190
    },
    {
        "name": "Insert user role - viewer",
        "patch": "INSERT INTO si_user_role (name) VALUES ('viewer');",
        "date": "20090215",
        "ref": 191
    },
    {
        "name": "Insert user role - customer",
        "patch": "INSERT INTO si_user_role (name) VALUES ('customer');",
        "date": "20090215",
        "ref": 192
    },
    {
        "name": "Insert user role - biller",
        "patch": "INSERT INTO si_user_role (name) VALUES ('biller');",
        "date": "20090215",
        "ref": 193
    },
    {
        "name": "User table - auto increment",
        "patch": "ALTER TABLE si_user CHANGE id id INT( 11 ) NOT NULL AUTO_INCREMENT;",
        "date": "20090215",
        "ref": 194
    },
    {
        "name": "User table - add enabled field",
        "patch": "ALTER TABLE si_user ADD enabled INT( 1 ) NOT NULL ;",
        "date": "20090215",
        "ref": 195
    },
    {
        "name": "User table - make all existing users enabled",
        "patch": "UPDATE si_user SET enabled = 1 ;",
        "date": "20090217",
        "ref": 196
    },
    {
        "name": "Defaults table - add domain_id and extension_id field",
        "patch": "ALTER TABLE si_system_defaults\r\n\t\t\t\tADD `domain_id` INT( 5 ) NOT NULL DEFAULT '1',\r\n\t\t\t\tADD `extension_id` INT( 5 ) NOT NULL DEFAULT '1',\r\n\t\t\t\tDROP INDEX `name`,\r\n\t\t\t\tADD INDEX `name` ( `name` );",
        "date": "20090321",
        "ref": 197
    },
    {
        "name": "Extension table - create table to hold extension status",
        "patch": "CREATE TABLE si_extensions (\r\n\t\t`id` INT( 11 ) NOT NULL AUTO_INCREMENT PRIMARY KEY ,\r\n\t\t`domain_id` INT( 11 ) NOT NULL ,\r\n\t\t`name` VARCHAR( 255 ) NOT NULL ,\r\n\t\t`description` VARCHAR( 255 ) NOT NULL ,\r\n\t\t`enabled` VARCHAR( 1 ) NOT NULL DEFAULT '0') ENGINE = MYISAM DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;",
        "date": "20090322",
        "ref": 198
    },
    {
        "name": "Update extensions table",
        "patch": "INSERT INTO si_extensions (\r\n\t\t\t`id`,`domain_id`,`name`,`description`,`enabled`)\r\n\t\t\tVALUES ('1','1','core','Core part of Simple Invoices - always enabled','1');",
        "date": "20090529",
        "ref": 199
    },
    {
        "name": "Update extensions table",
        "patch": "UPDATE si_extensions SET `id` = '1' WHERE `name` = 'core' LIMIT 1;",
        "date": "20090529",
        "ref": 200
    },
    {
        "name": "Set domain_id on system defaults table to 1",
        "patch": "UPDATE `si_system_defaults` SET `domain_id` = '1' ;",
        "date": "20090622",
        "ref": 201
    },
    {
        "name": "Set extension_id on system defaults table to 1",
        "patch": "UPDATE `si_system_defaults` SET `extension_id` = '1' ;",
        "date": "20090622",
        "ref": 202
    },
    {
        "name": "Move all old consulting style invoices to itemised",
        "patch": "UPDATE `si_invoices` SET `type_id` = '2' where `type_id`=3 ;",
        "date": "20090704",
        "ref": 203
    },
    {
        "name": "Create index table to handle new invoice numbering system",
        "patch": "CREATE TABLE `si_index` (\r\n`id` INT( 11 ) NOT NULL ,\r\n`node` VARCHAR( 255 ) NOT NULL ,\r\n`sub_node` VARCHAR( 255 ) NULL ,\r\n`domain_id` INT( 11 ) NOT NULL\r\n) ENGINE = MYISAM DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;",
        "date": "20090818",
        "ref": 204
    },
    {
        "name": "Add index_id to invoice table - new invoice numbering",
        "patch": "ALTER TABLE `si_invoices` ADD `index_id` INT( 11 ) NOT NULL AFTER `id`;",
        "date": "20090818",
        "ref": 205
    },
    {
        "name": "Add status and locale to preferences",
        "patch": "ALTER TABLE `si_preferences` ADD `status` INT( 1 ) NOT NULL ,\r\nADD `locale` VARCHAR( 255 ) NULL ,\r\nADD `language` VARCHAR( 255 ) NULL ;",
        "date": "20090826",
        "ref": 206
    },
    {
        "name": "Populate the status, locale, and language fields in preferences table",
        "patch": "UPDATE `si_preferences` SET status = '1', locale = 'en_GB', language = 'en_GB' ;",
        "date": "20090826",
        "ref": 207
    },
    {
        "name": "Populate the status, locale, and language fields in preferences table",
        "patch": "ALTER TABLE `si_preferences` ADD `index_group` INT( 11 ) NOT NULL ;",
        "date": "20090826",
        "ref": 208
    },
    {
        "name": "Populate the status, locale, and language fields in preferences table",
        "patch": "UPDATE `si_preferences` SET index_group = '1' ;",
        "date": "20090826",
        "ref": 209
    },
    {
        "name": "Create composite primary key for invoice table",
        "patch": "ALTER TABLE `si_invoices` DROP PRIMARY KEY, ADD PRIMARY KEY(`domain_id`,`id` );",
        "date": "20090826",
        "ref": 210
    },
    {
        "name": "Reset auto-increment for invoice table",
        "patch": "ALTER TABLE `si_invoices` AUTO_INCREMENT = 1;",
        "date": "20090826",
        "ref": 211
    },
    {
        "name": "Copy invoice.id into invoice.index_id",
        "patch": "update `si_invoices` set index_id = id;",
        "date": "20090902",
        "ref": 212
    },
    {
        "name": "Update the index table with max invoice id - if required",
        "patch": "select 1+1;",
        "date": "20090902",
        "ref": 213
    },
    {
        "name": "Add sub_node_2 to si_index table",
        "patch": "ALTER TABLE  `si_index` ADD  `sub_node_2` VARCHAR( 255 ) NULL AFTER  `sub_node`",
        "date": "20090912",
        "ref": 214
    },
    {
        "name": "si_invoices - add composite primary key - patch removed",
        "patch": "select 1+1;",
        "date": "20090912",
        "ref": 215
    },
    {
        "name": "si_payment - add composite primary key",
        "patch": "ALTER TABLE  `si_payment` DROP PRIMARY KEY, ADD PRIMARY KEY(`domain_id`, `id`)",
        "date": "20090912",
        "ref": 216
    },
    {
        "name": "si_payment_types - add composite primary key",
        "patch": "ALTER TABLE  `si_payment_types` DROP PRIMARY KEY, ADD PRIMARY KEY(`domain_id`, `pt_id`)",
        "date": "20090912",
        "ref": 217
    },
    {
        "name": "si_preferences - add composite primary key",
        "patch": "ALTER TABLE  `si_preferences` DROP PRIMARY KEY, ADD PRIMARY KEY(`domain_id`, `pref_id`)",
        "date": "20090912",
        "ref": 218
    },
    {
        "name": "si_products - add composite primary key",
        "patch": "ALTER TABLE  `si_products` DROP PRIMARY KEY, ADD PRIMARY KEY(`domain_id`, `id`)",
        "date": "20090912",
        "ref": 219
    },
    {
        "name": "si_tax - add composite primary key",
        "patch": "ALTER TABLE  `si_tax` DROP PRIMARY KEY, ADD PRIMARY KEY(`domain_id`, `tax_id`)",
        "date": "20090912",
        "ref": 220
    },
    {
        "name": "si_user - add composite primary key",
        "patch": "ALTER TABLE  `si_user` DROP PRIMARY KEY, ADD PRIMARY KEY(`domain_id`, `id`)",
        "date": "20090912",
        "ref": 221
    },
    {
        "name": "si_biller - add composite primary key",
        "patch": "ALTER TABLE  `si_biller` DROP PRIMARY KEY, ADD PRIMARY KEY(`domain_id`, `id`)",
        "date": "20100209",
        "ref": 222
    },
    {
        "name": "si_customers - add composite primary key",
        "patch": "ALTER TABLE  `si_customers` DROP PRIMARY KEY, ADD PRIMARY KEY(`domain_id`, `id`)",
        "date": "20100209",
        "ref": 223
    },
    {
        "name": "Add paypal business name",
        "patch": "ALTER TABLE  `si_biller` ADD `paypal_business_name` VARCHAR( 255 ) NULL AFTER  `footer`",
        "date": "20100209",
        "ref": 224
    },
    {
        "name": "Add paypal notify url",
        "patch": "ALTER TABLE  `si_biller` ADD `paypal_notify_url` VARCHAR( 255 ) NULL AFTER  `paypal_business_name`",
        "date": "20100209",
        "ref": 225
    },
    {
        "name": "Define currency in preferences",
        "patch": "ALTER TABLE `si_preferences` ADD `currency_code` VARCHAR( 25 ) NULL ;",
        "date": "20100209",
        "ref": 226
    },
    {
        "name": "Create cron table to handle recurrence",
        "patch": "CREATE TABLE `si_cron` (\r\n                `id` INT( 11 ) NOT NULL AUTO_INCREMENT ,\r\n                `domain_id` INT( 11 ) NOT NULL ,\r\n                `invoice_id` INT( 11 ) NOT NULL ,\r\n                `start_date` DATE NOT NULL ,\r\n                `end_date` VARCHAR( 10 ) NULL ,\r\n                `recurrence` INT( 11 ) NOT NULL ,\r\n                `recurrence_type` VARCHAR( 11 ) NOT NULL ,\r\n                `email_biller` INT( 1 ) NULL ,\r\n                `email_customer` INT( 1 ) NULL ,\r\n                PRIMARY KEY (`domain_id` ,`id`)\r\n            ) ENGINE = MYISAM DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;",
        "date": "20100215",
        "ref": 227
    },
    {
        "name": "Create cron_log table to handle record when cron was run",
        "patch": "CREATE TABLE `si_cron_log` (\r\n            `id` INT( 11 ) NOT NULL AUTO_INCREMENT ,\r\n            `domain_id` INT( 11 ) NOT NULL ,\r\n            `run_date` DATE NOT NULL ,\r\n            PRIMARY KEY (  `domain_id` ,  `id` )\r\n            ) ENGINE = MYISAM DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;",
        "date": "20100216",
        "ref": 228
    },
    {
        "name": "preferences - add online payment type",
        "patch": "ALTER TABLE `si_preferences` ADD `include_online_payment` VARCHAR( 255 ) NULL ;",
        "date": "20100209",
        "ref": 229
    },
    {
        "name": "Add paypal notify url",
        "patch": "ALTER TABLE  `si_biller` ADD `paypal_return_url` VARCHAR( 255 ) NULL AFTER  `paypal_notify_url`",
        "date": "20100223",
        "ref": 230
    },
    {
        "name": "Add paypal payment id into payment table",
        "patch": "ALTER TABLE  `si_payment` ADD `online_payment_id` VARCHAR( 255 ) NULL AFTER  `domain_id`",
        "date": "20100226",
        "ref": 231
    },
    {
        "name": "Define currency display in preferences",
        "patch": "ALTER TABLE `si_preferences` ADD `currency_position` VARCHAR( 25 ) NULL ;",
        "date": "20100227",
        "ref": 232
    },
    {
        "name": "Add system default to control invoice number by biller -- dummy patch -- this sql was removed",
        "patch": "select 1+1;",
        "date": "20100302",
        "ref": 233
    },
    {
        "name": "Add eway customer ID",
        "patch": "ALTER TABLE  `si_biller` ADD `eway_customer_id` VARCHAR( 255 ) NULL AFTER `paypal_return_url`;",
        "date": "20100315",
        "ref": 234
    },
    {
        "name": "Add eway card holder name",
        "patch": "ALTER TABLE  `si_customers` ADD `credit_card_holder_name` VARCHAR( 255 ) NULL AFTER `email`;",
        "date": "20100315",
        "ref": 235
    },
    {
        "name": "Add eway card number",
        "patch": "ALTER TABLE  `si_customers` ADD `credit_card_number` VARCHAR( 255 ) NULL AFTER `credit_card_holder_name`;",
        "date": "20100315",
        "ref": 236
    },
    {
        "name": "Add eway card expiry month",
        "patch": "ALTER TABLE  `si_customers` ADD `credit_card_expiry_month` VARCHAR( 02 ) NULL AFTER `credit_card_number`;",
        "date": "20100315",
        "ref": 237
    },
    {
        "name": "Add eway card expirt year",
        "patch": "ALTER TABLE  `si_customers` ADD `credit_card_expiry_year` VARCHAR( 04 ) NULL AFTER `credit_card_expiry_month` ;",
        "date": "20100315",
        "ref": 238
    },
    {
        "name": "cronlog - add invoice id",
        "patch": "ALTER TABLE `si_cron_log` ADD `cron_id` VARCHAR( 25 ) NULL AFTER `domain_id` ;",
        "date": "20100321",
        "ref": 239
    },
    {
        "name": "si_system_defaults - add composite primary key",
        "patch": "\r\n\t\tALTER TABLE `si_system_defaults` CHANGE `id` `id` INT(11) NOT NULL;\r\n\t\tALTER TABLE `si_system_defaults` DROP PRIMARY KEY;\r\n\t\tALTER TABLE `si_system_defaults` ADD PRIMARY KEY(`domain_id`,`id` );\r\n\t\tALTER TABLE `si_system_defaults` DROP INDEX `name`;\r\n\t\tALTER TABLE `si_system_defaults` CHANGE `id` `id` INT(11) NOT NULL AUTO_INCREMENT;",
        "date": "20100305",
        "ref": 240
    },
    {
        "name": "si_system_defaults - add inventory default",
        "patch": "insert into `si_system_defaults` values ('','inventory','0','1','1');",
        "date": "20100409",
        "ref": 241
    },
    {
        "name": "Add cost to products table",
        "patch": "ALTER TABLE `si_products` ADD `cost` DECIMAL( 25, 6 ) NULL DEFAULT '0.00' AFTER `default_tax_id_2`;",
        "date": "20100409",
        "ref": 242
    },
    {
        "name": "Add reorder_level to products table",
        "patch": "ALTER TABLE `si_products` ADD `reorder_level` INT( 11 ) NULL AFTER `cost` ;",
        "date": "20100409",
        "ref": 243
    },
    {
        "name": "Create inventory table",
        "patch": "CREATE TABLE  `si_inventory` (\r\n`id` INT( 11 ) NOT NULL AUTO_INCREMENT ,\r\n`domain_id` INT( 11 ) NOT NULL ,\r\n`product_id` INT( 11 ) NOT NULL ,\r\n`quantity` DECIMAL( 25, 6 ) NOT NULL ,\r\n`cost` DECIMAL( 25, 6 ) NULL ,\r\n`date` DATE NOT NULL ,\r\n`note` TEXT NULL ,\r\nPRIMARY KEY ( `domain_id`, `id` )\r\n) ENGINE = MYISAM DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;",
        "date": "20100409",
        "ref": 244
    },
    {
        "name": "Preferences - make locale null field",
        "patch": "ALTER TABLE  `si_preferences` CHANGE  `locale`  `locale` VARCHAR( 255 ) NULL ;",
        "date": "20100419",
        "ref": 245
    },
    {
        "name": "Preferences - make language a null field",
        "patch": "ALTER TABLE  `si_preferences` CHANGE  `language`  `language` VARCHAR( 255 ) NULL;",
        "date": "20100419",
        "ref": 246
    },
    {
        "name": "Custom fields - make sure domain_id is 1",
        "patch": "update si_custom_fields set domain_id = '1';",
        "date": "20100419",
        "ref": 247
    },
    {
        "name": "Make Simple Invoices faster - add index",
        "patch": "ALTER TABLE `si_invoices` ADD INDEX(`domain_id`);",
        "date": "20100419",
        "ref": 248
    },
    {
        "name": "Make Simple Invoices faster - add index",
        "patch": "ALTER TABLE `si_invoices` ADD INDEX(`biller_id`) ;",
        "date": "20100419",
        "ref": 249
    },
    {
        "name": "Make Simple Invoices faster - add index",
        "patch": "ALTER TABLE `si_invoices` ADD INDEX(`customer_id`);",
        "date": "20100419",
        "ref": 250
    },
    {
        "name": "Make Simple Invoices faster - add index",
        "patch": "ALTER TABLE `si_payment` ADD INDEX(`domain_id`);",
        "date": "20100419",
        "ref": 251
    },
    {
        "name": "Language - reset to en_GB - due to folder renaming",
        "patch": "UPDATE `si_system_defaults` SET value ='en_GB' where name='language';",
        "date": "20100419",
        "ref": 252
    },
    {
        "name": "Add PaymentsGateway API ID field",
        "patch": "ALTER TABLE `si_biller` ADD  `paymentsgateway_api_id` VARCHAR( 255 ) NULL AFTER `eway_customer_id`;",
        "date": "20110918",
        "ref": 253
    },
    {
        "name": "Product Matrix - update line items table",
        "patch": "ALTER TABLE `si_invoice_items` ADD `attribute` VARCHAR( 255 ) NULL ;",
        "date": "20130313",
        "ref": 254
    },
    {
        "name": "Product Matrix - update line items table",
        "patch": "\r\n        CREATE TABLE `si_products_attributes` (\r\n            `id` INT( 11 ) NOT NULL AUTO_INCREMENT PRIMARY KEY ,\r\n            `name` VARCHAR( 255 ) NOT NULL,\r\n            `type_id` VARCHAR( 255 ) NOT NULL\r\n            ) ENGINE = MYISAM ;",
        "date": "20130313",
        "ref": 255
    },
    {
        "name": "Product Matrix - update line items table",
        "patch": "INSERT INTO `si_products_attributes` (`id`, `name`, `type_id`) VALUES (NULL, 'Size','1'), (NULL,'Colour','1');",
        "date": "20130313",
        "ref": 256
    },
    {
        "name": "Product Matrix - update line items table",
        "patch": "CREATE TABLE `si_products_values` (\r\n`id` INT( 11 ) NOT NULL AUTO_INCREMENT PRIMARY KEY ,\r\n`attribute_id` INT( 11 ) NOT NULL ,\r\n`value` VARCHAR( 255 ) NOT NULL\r\n) ENGINE = MYISAM ;",
        "date": "20130313",
        "ref": 257
    },
    {
        "name": "Product Matrix - update line items table",
        "patch": "INSERT INTO `si_products_values` (`id`, `attribute_id`,`value`) VALUES (NULL,'1', 'S'),  (NULL,'1', 'M'), (NULL,'1', 'L'),  (NULL,'2', 'Red'),  (NULL,'2', 'White');",
        "date": "20130313",
        "ref": 258
    },
    {
        "name": "Product Matrix - update line items table",
        "patch": "SELECT 1+1;",
        "date": "20130313",
        "ref": 259
    },
    {
        "name": "Product Matrix - update line items table",
        "patch": "SELECT 1+1;",
        "date": "20130313",
        "ref": 260
    },
    {
        "name": "Product Matrix - update line items table",
        "patch": "SELECT 1+1;",
        "date": "20130313",
        "ref": 261
    },
    {
        "name": "Add product attributes system preference",
        "patch": "INSERT INTO si_system_defaults (id, name ,value ,domain_id ,extension_id ) VALUES (NULL , 'product_attributes', '0', '1', '1');",
        "date": "20130313",
        "ref": 262
    },
    {
        "name": "Product Matrix - update line items table",
        "patch": "ALTER TABLE `si_products` ADD `attribute` VARCHAR( 255 ) NULL ;",
        "date": "20130313",
        "ref": 263
    },
    {
        "name": "Product - use notes as default line item description",
        "patch": "ALTER TABLE `si_products` ADD `notes_as_description` VARCHAR( 1 ) NULL ;",
        "date": "20130314",
        "ref": 264
    },
    {
        "name": "Product - expand/show line item description",
        "patch": "ALTER TABLE `si_products` ADD `show_description` VARCHAR( 1 ) NULL ;",
        "date": "20130314",
        "ref": 265
    },
    {
        "name": "Product - expand/show line item description",
        "patch": "CREATE TABLE `si_products_attribute_type` (\r\n            `id` int(11) NOT NULL AUTO_INCREMENT,\r\n                `name` varchar(255) NOT NULL,\r\n                  PRIMARY KEY (`id`)\r\n              ) ENGINE=MyISAM DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;",
        "date": "20130322",
        "ref": 266
    },
    {
        "name": "Product Matrix - insert attribute types",
        "patch": "INSERT INTO `si_products_attribute_type` (`id`, `name`) VALUES (NULL,'list'),  (NULL,'decimal'), (NULL,'free');",
        "date": "20130325",
        "ref": 267
    },
    {
        "name": "Product Matrix - insert attribute types",
        "patch": "ALTER TABLE  `si_products_attributes` ADD  `enabled` VARCHAR( 1 ) NULL DEFAULT  '1',\r\n        ADD  `visible` VARCHAR( 1 ) NULL DEFAULT  '1';",
        "date": "20130327",
        "ref": 268
    },
    {
        "name": "Product Matrix - insert attribute types",
        "patch": "ALTER TABLE  `si_products_values` ADD  `enabled` VARCHAR( 1 ) NULL DEFAULT  '1';",
        "date": "20130327",
        "ref": 269
    },
    {
        "name": "Make Simple Invoices faster - add index",
        "patch": "ALTER TABLE `si_payment` ADD INDEX(`ac_inv_id`);",
        "date": "20100419",
        "ref": 270
    },
    {
        "name": "Make Simple Invoices faster - add index",
        "patch": "ALTER TABLE `si_payment` ADD INDEX(`ac_amount`);",
        "date": "20100419",
        "ref": 271
    },
    {
        "name": "Add product attributes system preference",
        "patch": "INSERT INTO si_system_defaults (id, name ,value ,domain_id ,extension_id ) VALUES (NULL , 'large_dataset', '0', '1', '1');",
        "date": "20130313",
        "ref": 272
    },
    {
        "name": "Make Simple Invoices faster - add index",
        "patch": "ALTER TABLE `si_invoice_items` ADD INDEX(`invoice_id`);",
        "date": "20130927",
        "ref": 273
    },
    {
        "name": "Only One Default Variable name per domain allowed - add unique index",
        "patch": "ALTER TABLE `si_system_defaults` ADD UNIQUE INDEX `UnqNameInDomain` (`domain_id`, `name`);",
        "date": "20131007",
        "ref": 274
    },
    {
        "name": "Make EMail / Password pair unique per domain - add unique index",
        "patch": "ALTER TABLE `si_user` CHANGE `password` `password` VARCHAR(64) NULL, ADD UNIQUE INDEX `UnqEMailPwd` (`email`, `password`);",
        "date": "20131007",
        "ref": 275
    },
    {
        "name": "Each invoice Item must belong to a specific Invoice with a specific domain_id",
        "patch": "ALTER TABLE `si_invoice_items` ADD COLUMN `domain_id` INT NOT NULL DEFAULT '1' AFTER `invoice_id`;",
        "date": "20131008",
        "ref": 276
    },
    {
        "name": "Add Index for Quick Invoice Item Search for a domain_id",
        "patch": "ALTER TABLE `si_invoice_items` ADD INDEX `DomainInv` (`invoice_id`, `domain_id`);",
        "date": "20131008",
        "ref": 277
    },
    {
        "name": "Each Invoice Item can have only one instance of each tax",
        "patch": "SELECT 1+1;",
        "date": "20131008",
        "ref": 278
    },
    {
        "name": "Drop unused superceeded table si_product_matrix if present",
        "patch": "DROP TABLE IF EXISTS `si_products_matrix`;",
        "date": "20131009",
        "ref": 279
    },
    {
        "name": "Each domain has their own extension instances",
        "patch": "ALTER TABLE `si_extensions` DROP PRIMARY KEY, ADD PRIMARY KEY (`id`, `domain_id`);",
        "date": "20131011",
        "ref": 280
    },
    {
        "name": "Each domain has their own custom_field id sets",
        "patch": "ALTER TABLE `si_custom_fields` DROP PRIMARY KEY, ADD PRIMARY KEY (`cf_id`, `domain_id`);",
        "date": "20131011",
        "ref": 281
    },
    {
        "name": "Each domain has their own logs",
        "patch": "ALTER TABLE `si_log` ADD COLUMN `domain_id` INT NOT NULL DEFAULT '1' AFTER `id`, DROP PRIMARY KEY, ADD PRIMARY KEY (`id`, `domain_id`);",
        "date": "20131011",
        "ref": 282
    },
    {
        "name": "Match field type with foreign key field si_user.id",
        "patch": "ALTER TABLE `si_log` CHANGE `userid` `userid` INT NOT NULL DEFAULT '1';",
        "date": "20131012",
        "ref": 283
    },
    {
        "name": "Make si_index sub_node and sub_node_2 fields as integer",
        "patch": "ALTER TABLE `si_index` CHANGE `node` `node` VARCHAR(64) NOT NULL, CHANGE `sub_node` `sub_node` INT NOT NULL, CHANGE `sub_node_2` `sub_node_2` INT NOT NULL;",
        "date": "20131016",
        "ref": 284
    },
    {
        "name": "Fix compound Primary Key for si_index table",
        "patch": "ALTER TABLE `si_index` ADD PRIMARY KEY (`node`, `sub_node`, `sub_node_2`, `domain_id`);",
        "date": "20131016",
        "ref": 285
    },
    {
        "name": "Speedup lookups from si_index table with indices in si_invoices table",
        "patch": "ALTER TABLE `si_invoices` ADD UNIQUE INDEX `UniqDIB` (`index_id`, `preference_id`, `biller_id`, `domain_id`), ADD INDEX `IdxDI` (`index_id`, `preference_id`, `domain_id`);",
        "date": "20131016",
        "ref": 286
    },
    {
        "name": "Populate additional user roles like domain_administrator",
        "patch": "INSERT IGNORE INTO `si_user_role` (`name`) VALUES ('domain_administrator'), ('customer'), ('biller');",
        "date": "20131017",
        "ref": 287
    },
    {
        "name": "Fully relational now - do away with the si_index table",
        "patch": "SELECT 1+1;",
        "date": "20131017",
        "ref": 288
    },
    {
        "name": "Each cron_id can run a maximum of only once a day for each domain_id",
        "patch": "ALTER TABLE `si_cron_log` ADD UNIQUE INDEX `CronIdUnq` (`domain_id`, `cron_id`, `run_date`);",
        "date": "20131108",
        "ref": 289
    },
    {
        "name": "Set all Flag fields to tinyint(1) and other 1 byte fields to char",
        "patch": "\r\n\t\tALTER TABLE `si_biller` CHANGE `enabled` `enabled` TINYINT(1) DEFAULT 1 NOT NULL;\r\n\t\tALTER TABLE `si_customers` CHANGE `enabled` `enabled` TINYINT(1) DEFAULT 1 NOT NULL;\r\n\t\tALTER TABLE `si_extensions` CHANGE `enabled` `enabled` TINYINT(1) DEFAULT 0 NOT NULL;\r\n\t\tALTER TABLE `si_payment_types` CHANGE `pt_enabled` `pt_enabled` TINYINT(1) DEFAULT 1 NOT NULL;\r\n\t\tALTER TABLE `si_preferences` CHANGE `pref_enabled` `pref_enabled` TINYINT(1) DEFAULT 1 NOT NULL,\r\n\t\t\tCHANGE `status` `status` TINYINT(1) NOT NULL;\r\n\t\tALTER TABLE `si_products` CHANGE `enabled` `enabled` TINYINT(1) DEFAULT 1 NOT NULL,\r\n\t\t\tCHANGE `notes_as_description` `notes_as_description` CHAR(1) NULL,\r\n\t\t\tCHANGE `show_description` `show_description` CHAR(1) NULL;\r\n\t\tALTER TABLE `si_tax` CHANGE `tax_enabled` `tax_enabled` TINYINT(1) DEFAULT 1 NOT NULL;\r\n\t\tALTER TABLE `si_cron` CHANGE `email_biller` `email_biller` TINYINT(1) DEFAULT 0 NOT NULL,\r\n\t\t\tCHANGE `email_customer` `email_customer` TINYINT(1) DEFAULT 0 NOT NULL;\r\n\t\tALTER TABLE `si_custom_fields` CHANGE `cf_display` `cf_display` TINYINT(1) DEFAULT 1 NOT NULL;\r\n\t\tALTER TABLE `si_invoice_item_tax` CHANGE `tax_type` `tax_type` CHAR(1) DEFAULT '%' NOT NULL;\r\n\t\tALTER TABLE `si_tax` CHANGE `type` `type` CHAR(1) DEFAULT '%' NOT NULL;\r\n\t\tALTER TABLE `si_products_attributes` CHANGE `enabled` `enabled` TINYINT(1) DEFAULT 1 NOT NULL,\r\n\t\t\tCHANGE `visible` `visible` TINYINT(1) DEFAULT 1 NOT NULL;\r\n\t\tALTER TABLE `si_products_values` CHANGE `enabled` `enabled` TINYINT(1) DEFAULT 1 NOT NULL;\r\n\t\tALTER TABLE `si_user` CHANGE `enabled` `enabled` TINYINT(1) DEFAULT 1 NOT NULL;\r\n\t",
        "date": "20131109",
        "ref": 290
    },
    {
        "name": "Clipped size of zip_code and credit_card_number fields to realistic values",
        "patch": "\r\n\t\tALTER TABLE `si_customers` CHANGE `zip_code` `zip_code` VARCHAR(20) NULL,\r\n\t\tCHANGE `credit_card_number` `credit_card_number` VARCHAR(20) NULL;\r\n\t\tALTER TABLE `si_biller` CHANGE `zip_code` `zip_code` VARCHAR(20) NULL;\r\n\t",
        "date": "20131111",
        "ref": 291
    },
    {
        "name": "Added Customer/Biller User ID column to user table",
        "patch": "ALTER TABLE `si_user` ADD COLUMN `user_id` INT  DEFAULT 0 NOT NULL AFTER `enabled`;",
        "date": "20140103",
        "ref": 292
    },
    {
        "name": "Add department to the customers",
        "patch": "ALTER TABLE `si_customers` ADD COLUMN `department` VARCHAR(255) NULL AFTER `name`",
        "date": "20161004",
        "ref": 293
    }
]